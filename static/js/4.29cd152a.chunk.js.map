{"version":3,"sources":["../../../packages/ra-data-graphql/esm/introspection.js","../../../packages/ra-data-graphql/esm/index.js","../../../packages/ra-data-graphql-simple/esm/buildQuery.js","../../../packages/ra-data-graphql/esm/buildApolloClient.js","../../../packages/ra-data-graphql/esm/constants.js","../../../packages/ra-data-graphql-simple/esm/getFinalType.js","../../../packages/ra-data-graphql-simple/esm/isList.js","../../../packages/ra-data-graphql-simple/esm/buildVariables.js","../../../packages/ra-data-graphql-simple/esm/isRequired.js","../../../packages/ra-data-graphql-simple/esm/buildGqlQuery.js","../../../packages/ra-data-graphql-simple/esm/getResponseParser.js","../../../packages/ra-data-graphql-simple/esm/index.js","dataProvider/graphql.js"],"names":["templateObject_1","esm_a","buildVariablesImpl","buildGqlQueryImpl","getResponseParserImpl","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","QUERY_TYPES","dataFetchActions","MUTATION_TYPES","ALL_TYPES","concat","__makeTemplateObject","cooked","raw","defineProperty","value","introspection_assign","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","esm_assign","esm_awaiter","esm_generator","esm_rest","esm_QUERY_TYPES","defaultOptions","resolveIntrospection","client","options","undefined","schema","_a","queries","types","isResource","buildResource","potentialResources","filteredResources","resources","_b","query","fetchPolicy","src_default","graphql","data","__schema","reduce","acc","type","name","queryType","mutationType","fields","filter","some","operationNames","aorFetchType","find","include","exclude","Array","isArray","includes","filterTypesByIncludeExclude","map","introspection","resource","pluralize_default","getOptions","esm","clientObject","clientOptions","buildQueryFactory","override","otherOptions","introspectionResults","buildQuery","raDataProvider","_c","merge_default","console","warn","ApolloClient","cache","link","uri","finalLink","finalCache","lib","restore","buildApolloClient","params","overridedbuildQuery","get_default","parseResponse","apolloQuery_1","apolloQuery","mutation","variables","mutate","observeRequest","watchQuery","saga","esm_getFinalType","getFinalType","kind","NON_NULL","LIST","ofType","esm_isList","isList","buildVariables_assign","sanitizeValue","parseInt","parseFloat","buildCreateUpdateVariables","keys","key","args","a","id","esm_isRequired","isRequired","buildGqlQuery_rest","buildGqlQuery_buildArgs","validVariables","k","arg","graphql_ast_types_browser_lib","buildGqlQuery_buildApolloArgs","required","buildGqlQuery_getArgType","getResponseParser_assign","esm_buildQuery","_d","_e","_f","_g","ids","filterSome","inputFields","filter_1","parts","split","resourceField_1","resourceField","type_2","isAList","page","pagination","perPage","sortField","sort","field","sortOrder","order","buildVariables_buildGetListVariables","target","metaVariables","apolloArgs","metaArgs","buildFields","startsWith","OBJECT","r","linkedType","buildGqlQuery_buildFields","response","sanitize","sanitizeResource","linkedResource","linkedResourceData","d","getResponseParser_sanitizeResource","items","total","count","knownResources","resourceName","Error","join","ra_data_graphql_simple_esm_assign","ra_data_graphql_simple_esm_rest","esm_defaultOptions","__webpack_exports__","defaultDataProvider","fetchType","otherParams_1","all","results","otherParams_2","dataProvider","getGqlResource"],"mappings":"sGA6RAA,ECrHIC,ECrKwBC,EAAAC,EAAAC,qFCH5BC,EAA2B,WAa3B,OAZAA,EAAAC,OAAAC,QAAA,SAAAC,GACA,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGAU,MAAAC,KAAAP,YAGAQ,EAAyB,SAAAX,EAAAY,GACzB,IAAAb,EAAA,GAEA,QAAAM,KAAAL,EACAH,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,IAAAO,EAAAC,QAAAR,GAAA,IAAAN,EAAAM,GAAAL,EAAAK,IAGA,SAAAL,GAAA,oBAAAH,OAAAiB,sBAAA,KAAAb,EAAA,MAAAI,EAAAR,OAAAiB,sBAAAd,GAA2HC,EAAAI,EAAAD,OAAcH,IACzIW,EAAAC,QAAAR,EAAAJ,IAAA,IAAAF,EAAAM,EAAAJ,IAAAD,EAAAK,EAAAJ,KAEA,OAAAF,GCzBOgB,EAAA,CAAmBC,EAAA,EAAUA,EAAA,EAAUA,EAAA,EAAoBA,EAAA,GAC3DC,EAAA,CAAsBD,EAAA,EAAQA,EAAA,EAAQA,EAAA,EAAQA,EAAA,EAAaA,EAAA,GAC3DE,EAAAH,EAAAI,OAAAF,+BJHPG,EAAuC,SAAAC,EAAAC,GASvC,OARAzB,OAAA0B,eACA1B,OAAA0B,eAAAF,EAAA,OACAG,MAAAF,IAGAD,EAAAC,MAGAD,GAGII,EAAuB,WAa3B,OAZEA,EAAQ5B,OAAAC,QAAA,SAAAC,GACV,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGiBU,MAAAC,KAAAP,YAGjBuB,EAA4B,SAAAC,EAAAC,EAAAC,EAAAC,GAC5B,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAV,GACA,IACAW,EAAAL,EAAAM,KAAAZ,IACO,MAAAZ,GACPqB,EAAArB,IAIA,SAAAyB,EAAAb,GACA,IACAW,EAAAL,EAAA,MAAAN,IACO,MAAAZ,GACPqB,EAAArB,IAIA,SAAAuB,EAAAG,GACAA,EAAAC,KAAAP,EAAAM,EAAAd,OAAA,IAAAK,EAAA,SAAAG,GACAA,EAAAM,EAAAd,SACOgB,KAAAN,EAAAG,GAGPF,GAAAL,IAAArB,MAAAkB,EAAAC,GAAA,KAAAQ,WAIAK,EAA8B,SAAAd,EAAAe,GAC9B,IASAC,EACAC,EACA7C,EACA8C,EAZAC,EAAA,CACAC,MAAA,EACAC,KAAA,WACA,KAAAjD,EAAA,SAAAA,EAAA,GACA,OAAAA,EAAA,IAEAkD,KAAA,GACAC,IAAA,IAMA,OAAAL,EAAA,CACAT,KAAAe,EAAA,GACAC,MAAAD,EAAA,GACAE,OAAAF,EAAA,IACG,oBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WACH,OAAA7C,OACGmC,EAEH,SAAAM,EAAAjD,GACA,gBAAAsD,GACA,OAIA,SAAAC,GACA,GAAAd,EAAA,UAAAe,UAAA,mCAEA,KAAAZ,GACA,IACA,GAAAH,EAAA,EAAAC,IAAA7C,EAAA,EAAA0D,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA7C,EAAA6C,EAAA,SAAA7C,EAAAS,KAAAoC,GAAA,GAAAA,EAAAR,SAAArC,IAAAS,KAAAoC,EAAAa,EAAA,KAAAlB,KAAA,OAAAxC,EAGA,OAFA6C,EAAA,EAAA7C,IAAA0D,EAAA,GAAAA,EAAA,GAAA1D,EAAAyB,QAEAiC,EAAA,IACA,OACA,OACA1D,EAAA0D,EACA,MAEA,OAEA,OADAX,EAAAC,QACA,CACAvB,MAAAiC,EAAA,GACAlB,MAAA,GAGA,OACAO,EAAAC,QACAH,EAAAa,EAAA,GACAA,EAAA,IACA,SAEA,OACAA,EAAAX,EAAAI,IAAAS,MAEAb,EAAAG,KAAAU,MAEA,SAEA,QACA,KAAA5D,KAAA+C,EAAAG,MAAA7C,OAAA,GAAAL,IAAAK,OAAA,UAAAqD,EAAA,QAAAA,EAAA,KACAX,EAAA,EACA,SAGA,OAAAW,EAAA,MAAA1D,GAAA0D,EAAA,GAAA1D,EAAA,IAAA0D,EAAA,GAAA1D,EAAA,KACA+C,EAAAC,MAAAU,EAAA,GACA,MAGA,OAAAA,EAAA,IAAAX,EAAAC,MAAAhD,EAAA,IACA+C,EAAAC,MAAAhD,EAAA,GACAA,EAAA0D,EACA,MAGA,GAAA1D,GAAA+C,EAAAC,MAAAhD,EAAA,IACA+C,EAAAC,MAAAhD,EAAA,GAEA+C,EAAAI,IAAAU,KAAAH,GAEA,MAGA1D,EAAA,IAAA+C,EAAAI,IAAAS,MAEAb,EAAAG,KAAAU,MAEA,SAGAF,EAAAf,EAAAlC,KAAAmB,EAAAmB,GACO,MAAAlC,GACP6C,EAAA,GAAA7C,GACAgC,EAAA,EACO,QACPD,EAAA5C,EAAA,EAIA,KAAA0D,EAAA,SAAAA,EAAA,GACA,OACAjC,MAAAiC,EAAA,GAAAA,EAAA,UACAlB,MAAA,GAlFAJ,CAAA,CAAAjC,EAAAsD,OChFIK,EAAuB,WAa3B,OAZEA,EAAQhE,OAAAC,QAAA,SAAAC,GACV,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGiBU,MAAAC,KAAAP,YAGb2D,EAAwB,SAAAnC,EAAAC,EAAAC,EAAAC,GAC5B,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAV,GACA,IACAW,EAAAL,EAAAM,KAAAZ,IACO,MAAAZ,GACPqB,EAAArB,IAIA,SAAAyB,EAAAb,GACA,IACAW,EAAAL,EAAA,MAAAN,IACO,MAAAZ,GACPqB,EAAArB,IAIA,SAAAuB,EAAAG,GACAA,EAAAC,KAAAP,EAAAM,EAAAd,OAAA,IAAAK,EAAA,SAAAG,GACAA,EAAAM,EAAAd,SACOgB,KAAAN,EAAAG,GAGPF,GAAAL,IAAArB,MAAAkB,EAAAC,GAAA,KAAAQ,WAII2B,EAA0B,SAAApC,EAAAe,GAC9B,IASAC,EACAC,EACA7C,EACA8C,EAZAC,EAAA,CACAC,MAAA,EACAC,KAAA,WACA,KAAAjD,EAAA,SAAAA,EAAA,GACA,OAAAA,EAAA,IAEAkD,KAAA,GACAC,IAAA,IAMA,OAAAL,EAAA,CACAT,KAAAe,EAAA,GACAC,MAAAD,EAAA,GACAE,OAAAF,EAAA,IACG,oBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WACH,OAAA7C,OACGmC,EAEH,SAAAM,EAAAjD,GACA,gBAAAsD,GACA,OAIA,SAAAC,GACA,GAAAd,EAAA,UAAAe,UAAA,mCAEA,KAAAZ,GACA,IACA,GAAAH,EAAA,EAAAC,IAAA7C,EAAA,EAAA0D,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA7C,EAAA6C,EAAA,SAAA7C,EAAAS,KAAAoC,GAAA,GAAAA,EAAAR,SAAArC,IAAAS,KAAAoC,EAAAa,EAAA,KAAAlB,KAAA,OAAAxC,EAGA,OAFA6C,EAAA,EAAA7C,IAAA0D,EAAA,GAAAA,EAAA,GAAA1D,EAAAyB,QAEAiC,EAAA,IACA,OACA,OACA1D,EAAA0D,EACA,MAEA,OAEA,OADAX,EAAAC,QACA,CACAvB,MAAAiC,EAAA,GACAlB,MAAA,GAGA,OACAO,EAAAC,QACAH,EAAAa,EAAA,GACAA,EAAA,IACA,SAEA,OACAA,EAAAX,EAAAI,IAAAS,MAEAb,EAAAG,KAAAU,MAEA,SAEA,QACA,KAAA5D,KAAA+C,EAAAG,MAAA7C,OAAA,GAAAL,IAAAK,OAAA,UAAAqD,EAAA,QAAAA,EAAA,KACAX,EAAA,EACA,SAGA,OAAAW,EAAA,MAAA1D,GAAA0D,EAAA,GAAA1D,EAAA,IAAA0D,EAAA,GAAA1D,EAAA,KACA+C,EAAAC,MAAAU,EAAA,GACA,MAGA,OAAAA,EAAA,IAAAX,EAAAC,MAAAhD,EAAA,IACA+C,EAAAC,MAAAhD,EAAA,GACAA,EAAA0D,EACA,MAGA,GAAA1D,GAAA+C,EAAAC,MAAAhD,EAAA,IACA+C,EAAAC,MAAAhD,EAAA,GAEA+C,EAAAI,IAAAU,KAAAH,GAEA,MAGA1D,EAAA,IAAA+C,EAAAI,IAAAS,MAEAb,EAAAG,KAAAU,MAEA,SAGAF,EAAAf,EAAAlC,KAAAmB,EAAAmB,GACO,MAAAlC,GACP6C,EAAA,GAAA7C,GACAgC,EAAA,EACO,QACPD,EAAA5C,EAAA,EAIA,KAAA0D,EAAA,SAAAA,EAAA,GACA,OACAjC,MAAAiC,EAAA,GAAAA,EAAA,UACAlB,MAAA,GAlFAJ,CAAA,CAAAjC,EAAAsD,OAuFIQ,EAAqB,SAAAhE,EAAAY,GACzB,IAAAb,EAAA,GAEA,QAAAM,KAAAL,EACAH,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,IAAAO,EAAAC,QAAAR,GAAA,IAAAN,EAAAM,GAAAL,EAAAK,IAGA,SAAAL,GAAA,oBAAAH,OAAAiB,sBAAA,KAAAb,EAAA,MAAAI,EAAAR,OAAAiB,sBAAAd,GAA2HC,EAAAI,EAAAD,OAAcH,IACzIW,EAAAC,QAAAR,EAAAJ,IAAA,IAAAF,EAAAM,EAAAJ,IAAAD,EAAAK,EAAAJ,KAEA,OAAAF,GAcWkE,EAAclD,EAGzBmD,EAAA,CACAC,qBD2BA,SAAgBC,EAAAC,GAChB,OAAA3C,OA5CY4C,OA4CZ,oBACA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAEA,OAAAtC,EAAA/B,KAAA,SAAAsE,GACA,OAAAA,EAAAjC,OACA,OACA,OAAAsB,EAAAE,QAGAC,EAAAH,EAAAE,OACA,GAEA,IANA,GAEA,GAMA,OACA,SAEAH,EAAAa,MAAA,CACAC,YAAA,eACAD,MAAmBE,IAAG5F,MAAA6B,EAAA,0GAA4KgE,EAAA,KACvL5C,KAAA,SAAAgC,GAEX,OADAA,EAAAa,KAAAC,YAIA,OACAd,EAAAQ,EAAAhC,OACAgC,EAAAjC,MAAA,EAEA,OAiCA,OA/BA0B,GADAF,EAAAC,GACAE,MAAAa,OAAA,SAAAC,EAAAC,GACA,OAAAA,EAAAC,OAAAnB,EAAAoB,UAAAD,MAAAD,EAAAC,OAAAnB,EAAAqB,aAAAF,KAAAF,EACAA,EAAArE,OAAAsE,EAAAI,SACW,IACXnB,EAAAH,EAAAG,MAAAoB,OAAA,SAAAL,GACA,OAAAA,EAAAC,OAAAnB,EAAAoB,UAAAD,MAAAD,EAAAC,OAAAnB,EAAAqB,aAAAF,OAGAf,EAAA,SAAAc,GACA,OAAAhB,EAAAsB,KAAA,SAAAd,GACA,OAAAA,EAAAS,OAAArB,EAAA2B,eAA2DhF,EAAA,GAAQyE,MACtDhB,EAAAsB,KAAA,SAAAd,GACb,OAAAA,EAAAS,OAAArB,EAAA2B,eAA2DhF,EAAA,GAAOyE,MAIlEb,EAAA,SAAAa,GACA,OAAmBvE,EAASqE,OAAA,SAAAC,EAAAS,GAC5B,IAAAzB,EAEA,OAAqB/C,EAAQ,GAAG+D,IAAAhB,EAAA,IAAeyB,GAAAxB,EAAAyB,KAAA,SAAAjB,GAC/C,OAAAZ,EAAA2B,eAAAC,IAAAhB,EAAAS,MAAArB,EAAA2B,eAAAC,GAAAR,KACejB,KACF,CACbiB,UAIAZ,EAAAH,EAAAoB,OAAAnB,GACAG,EAAAD,EAAAiB,OAlGO,SAAAtB,GACP,IAAA2B,EAAA3B,EAAA2B,QACAC,EAAA5B,EAAA4B,QAEA,OAAAC,MAAAC,QAAAH,GACA,SAAAV,GACA,OAAAU,EAAAI,SAAAd,EAAAC,OAIA,oBAAAS,EACA,SAAAV,GACA,OAAAU,EAAAV,IAIAY,MAAAC,QAAAF,GACA,SAAAX,GACA,OAAAW,EAAAG,SAAAd,EAAAC,OAIA,oBAAAU,EACA,SAAAX,GACA,OAAAW,EAAAX,IAIA,WACA,UAqEAe,CAAAnC,IACAU,EAAAD,EAAA2B,IAAA7B,GACA,GAEA,CACAF,QACAD,UACAM,YACAR,iBC/FAmC,cAAA,CACAV,gBAAqBxG,EAAE,GAAOA,EAAGwB,EAAA,GAAQ,SAAA2F,GACzC,YAAqBC,IAASD,EAAAjB,OACvBlG,EAAGwB,EAAA,GAAO,SAAA2F,GACjB,SAAAA,EAAAjB,MACOlG,EAAGwB,EAAA,GAAQ,SAAA2F,GAClB,YAAqBC,IAASD,EAAAjB,OACvBlG,EAAGwB,EAAA,GAAkB,SAAA2F,GAC5B,YAAqBC,IAASD,EAAAjB,OACvBlG,EAAGwB,EAAA,GAAM,SAAA2F,GAChB,eAAAA,EAAAjB,MACOlG,EAAGwB,EAAA,GAAM,SAAA2F,GAChB,eAAAA,EAAAjB,MACOlG,EAAGwB,EAAA,GAAM,SAAA2F,GAChB,eAAAA,EAAAjB,MACOlG,GACP4G,aAAA9B,EACA6B,aAAA7B,IAIAuC,EAAA,SAAAxC,EAAA4B,EAAAU,GACA,0BAAAtC,EACAA,EAAAsC,EAAAV,GAGA5B,GAGgByC,EAAA,SAAAzC,GAChB,OAASP,OA5CGQ,OA4CY,oBACxB,IAAAE,EAAAuC,EAAAC,EAAAN,EAAAvC,EAAA8C,EAAAjC,EAAAkC,EAAAC,EAAA/C,EAAAgD,EAAAC,EAAAC,EAEA,OAAWvD,EAAWrD,KAAA,SAAA6G,GACtB,OAAAA,EAAAxE,OACA,OASA,OARAyB,EAAegD,IAAK,GAAGtD,EAAAG,GAAA0C,EAAAvC,EAAAJ,OAAA4C,EAAAxC,EAAAwC,cAAAN,EAAAlC,EAAAkC,cAAAvC,EAAAK,EAAAL,qBAAA8C,EAAAzC,EAAA6C,WAAArC,EAAAR,EAAA0C,gBAAA,IAAAlC,EAAA,GAA4PA,EAAAmC,EAAsBnD,EAAMQ,EAAA,2FAE/S0C,GACAO,QAAAC,KACA,4HAGAtD,EAAA2C,GEpMA,SAAgB1C,GAChB,IAAAA,EACA,WAAesD,EAAA,EAGf,IAAAC,EAAAvD,EAAAuD,MACAC,EAAAxD,EAAAwD,KACAC,EAAAzD,EAAAyD,IACAX,EAAAxG,EAAA0D,EAAA,wBAEA0D,EAAAF,EACAG,EAAAJ,EAYA,OAVAC,GAAAC,IACAC,EAAA,IAAoBE,EAAA,SAAQ,CAC5BH,SAIAF,IACAI,GAAA,IAAqBC,EAAA,eAAaC,QAAA,KAGlC,IAAaP,EAAA,EAAY/H,EAAA,CACzBiI,KAAAE,EACAH,MAAAI,GACGb,IF0KgCgB,CAAiBnB,GACpDN,EAGA,GAEAvC,EAAAC,EAAAsC,IALA,GAEA,GAKA,OACAU,EAAAG,EAAAvE,OACAuE,EAAAxE,MAAA,EAEA,OAsCA,OArCAsE,EAAAJ,EAAAG,EAAAD,IAEAG,EAAA,SAAArB,EAAAU,EAAAyB,GACA,IAAAC,EAAsCC,IAAGpB,EAAAP,EAAA,IAAAV,GAEzCzB,EAAA6D,EAA2CxE,EAAQ,GAAGwD,EAAApB,EAAAU,EAAAyB,GAAAC,EAAAD,IAAAf,EAAApB,EAAAU,EAAAyB,GACtDG,EAAA/D,EAAA+D,cACAtD,EAAwBjB,EAAMQ,EAAA,mBAE9B,GAAgBP,EAAWsC,SAAAN,GAAA,CAC3B,IAAAuC,EAAkC3E,EAAQ,GAAGoB,EAAA,CAC7CC,YAAA,gBACe2B,EAAAM,EAAAlC,MAAAgB,EAAAU,IAEf,OAAAvC,EAAAa,MAAAuD,GAAAhG,KAAA+F,GAGA,IAAAE,EAA8B5E,EAAQ,CACtC6E,SAAAzD,QACA0D,UAAA1D,EAAA0D,WACa9B,EAAAM,EAAAuB,SAAAzC,EAAAU,IAEb,OAAAvC,EAAAwE,OAAAH,GAAAjG,KAAA+F,KAGAM,eAAA,SAAA5C,EAAAU,EAAAyB,GACA,IAAA5D,EAAA6C,EAAApB,EAAAU,EAAAyB,GACAG,EAAA/D,EAAA+D,cACAtD,EAAwBjB,EAAMQ,EAAA,mBAE9BiE,EAA8B5E,EAAQ,GAAGoB,EAAA4B,EAAAM,EAAA2B,WAAA7C,EAAAU,IAEzC,OAAAvC,EAAA0E,WAAAL,GAAAjG,KAAA+F,IAGAjB,EAAAyB,KAAA,aAEA,GAEAzB,SIzQe0B,EARC,SAAAC,EAAAxD,GAChB,OAAAA,EAAAyD,OAAoB9D,EAAA,EAAQ+D,UAAA1D,EAAAyD,OAA2B9D,EAAA,EAAQgE,KAC/DH,EAAAxD,EAAA4D,QAGA5D,GCDe6D,EARL,SAAAC,EAAA9D,GACV,OAAAA,EAAAyD,OAAoB9D,EAAA,EAAQ+D,SAC5BI,EAAA9D,EAAA4D,QAGA5D,EAAAyD,OAAuB9D,EAAA,EAAQgE,MCP3BI,EAAuB,WAa3B,OAZEA,EAAQ3J,OAAAC,QAAA,SAAAC,GACV,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGiBU,MAAAC,KAAAP,YAOjBsJ,EAAA,SAAAhE,EAAAjE,GACA,cAAAiE,EAAAC,KACAgE,SAAAlI,EAAA,IAGA,UAAAiE,EAAAC,KACAiE,WAAAnI,GAGAA,GA0FAoI,EAAA,WACA,gBAAAjD,EAAAV,EAAAmC,EAAAzC,GACA,OAAA9F,OAAAgK,KAAAzB,EAAA/C,MAAAE,OAAA,SAAAC,EAAAsE,GACA,IAAAtF,EAAAQ,EAAAuC,EAEA,GAAAlB,MAAAC,QAAA8B,EAAA/C,KAAAyE,KACAnE,EAAAoE,KAAA7D,KAAA,SAAA8D,GACA,OAAAA,EAAAtE,OAAAoE,EAAA,QAIA,OAAiBN,EAAQ,GAAGhE,IAAAhB,EAAA,IAAesF,EAAA,OAAA1B,EAAA/C,KAAAyE,GAAArD,IAAA,SAAAjC,GAE3C,OADAA,EAAAyF,KAEWzF,IAIX,qBAAA4D,EAAA/C,KAAAyE,IACAnE,EAAAoE,KAAA7D,KAAA,SAAA8D,GACA,OAAAA,EAAAtE,OAAAoE,EAAA,OAIA,OAAiBN,EAAQ,GAAGhE,IAAAR,EAAA,IAAe8E,EAAA,MAAA1B,EAAA/C,KAAAyE,GAAAG,GAAAjF,IAI3C,OAAawE,EAAQ,GAAGhE,IAAA+B,EAAA,IAAeuC,GAAA1B,EAAA/C,KAAAyE,GAAAvC,KAClC,gBC1IU2C,EARD,SAAAC,EAAA1E,GACd,OAAAA,EAAAyD,OAAoB9D,EAAA,EAAQgE,KAC5Be,EAAA1E,EAAA4D,QAGA5D,EAAAyD,OAAuB9D,EAAA,EAAQ+D,UCP3BiB,EAAqB,SAAApK,EAAAY,GACzB,IAAAb,EAAA,GAEA,QAAAM,KAAAL,EACAH,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,IAAAO,EAAAC,QAAAR,GAAA,IAAAN,EAAAM,GAAAL,EAAAK,IAGA,SAAAL,GAAA,oBAAAH,OAAAiB,sBAAA,KAAAb,EAAA,MAAAI,EAAAR,OAAAiB,sBAAAd,GAA2HC,EAAAI,EAAAD,OAAcH,IACzIW,EAAAC,QAAAR,EAAAJ,IAAA,IAAAF,EAAAM,EAAAJ,IAAAD,EAAAK,EAAAJ,KAEA,OAAAF,GAgEWsK,EAAS,SAAApF,EAAA0D,GACpB,OAAA1D,EAAA8E,KAAA3J,OACA,SAGA,IAAAkK,EAAAzK,OAAAgK,KAAAlB,GAAA7C,OAAA,SAAAyE,GACA,2BAAA5B,EAAA4B,KAOA,OALAtF,EAAA8E,KAAAjE,OAAA,SAAAkE,GACA,OAAAM,EAAA/D,SAAAyD,EAAAtE,QACGH,OAAA,SAAAC,EAAAgF,GACH,OAAAhF,EAAArE,OAAA,CAAuBsJ,EAAA,SAAkBA,EAAA,KAAaD,EAAA9E,MAAY+E,EAAA,SAAkBA,EAAA,KAAaD,EAAA9E,WAC9F,KAGQgF,EAAe,SAAAzF,EAAA0D,GAC1B,OAAA1D,EAAA8E,KAAA3J,OACA,SAGA,IAAAkK,EAAAzK,OAAAgK,KAAAlB,GAAA7C,OAAA,SAAAyE,GACA,2BAAA5B,EAAA4B,KAOA,OALAtF,EAAA8E,KAAAjE,OAAA,SAAAkE,GACA,OAAAM,EAAA/D,SAAAyD,EAAAtE,QACGH,OAAA,SAAAC,EAAAgF,GACH,OAAAhF,EAAArE,OAAA,CAAuBsJ,EAAA,mBAA4BA,EAAA,SAAkBA,EAAA,KAAaD,EAAA9E,OA7C7D,SAAA8E,GACrB,IAAA/E,EAAauD,EAAYwB,EAAA/E,MACzBkF,EAAiBT,EAAUM,EAAA/E,MAG3B,OAFa6D,EAAMkB,EAAA/E,MAGnBkF,EACaF,EAAA,SAAkBA,EAAA,YAAqBA,EAAA,UAAmBA,EAAA,KAAahF,EAAAC,SAGzE+E,EAAA,SAAkBA,EAAA,UAAmBA,EAAA,KAAahF,EAAAC,QAG7DiF,EACWF,EAAA,YAAqBA,EAAA,UAAmBA,EAAA,KAAahF,EAAAC,QAGvD+E,EAAA,UAAmBA,EAAA,KAAahF,EAAAC,OA4BsDkF,CAAUJ,OACtG,KCrGCK,EAAuB,WAa3B,OAZEA,EAAQhL,OAAAC,QAAA,SAAAC,GACV,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGiBU,MAAAC,KAAAP,YRqBF2K,GA/BarL,EKqJZ,SAAA2H,GAChB,gBAAAT,EAAAV,EAAAmC,EAAAzC,GACA,IAAAnB,EAEA,OAAAyB,GACA,KAAWjF,EAAA,EAEX,OA/HyB,SAAAoG,GACzB,gBAAAT,EAAAV,EAAAmC,GACA,IAAAtC,EAAAjG,OAAAgK,KAAAzB,EAAAtC,QAAAP,OAAA,SAAAC,EAAAsE,GACA,IAAAtF,EAAAQ,EAAAuC,EAAAwD,EAAAC,EAAAC,EAAAC,EAEA,WAAApB,EACA,OAAeN,EAAQ,GAAGhE,EAAA,CAC1B2F,IAAA/C,EAAAtC,OAAAgE,KAIA,qBAAA1B,EAAAtC,OAAAgE,KAIAsB,GAHA3F,EAAA2B,EAAA1C,MAAAwB,KAAA,SAAAnG,GACA,OAAAA,EAAA2F,OAAAiB,EAAAlB,KAAAC,KAAA,YAEA2F,YAAAnF,KAAA,SAAAnG,GACA,OAAAA,EAAA2F,OAAAoE,EAAA,WAGA,CACA,IAAAwB,EAAAzL,OAAAgK,KAAAzB,EAAAtC,OAAAgE,IAAAvE,OAAA,SAAAC,EAAA+E,GACA,IAAA/F,EAEA,OAAmBgF,EAAQ,GAAGhE,IAAAhB,EAAA,IAAe+F,EAAA,OAAAnC,EAAAtC,OAAAgE,GAAAS,GAAA/F,KAClC,IACX,OAAiBgF,EAAQ,GAAGhE,IAAAhB,EAAA,IAAesF,EAAA,SAAAwB,EAAA9G,IAI3C,IAAA+G,EAAAzB,EAAA0B,MAAA,KAEA,GAAAD,EAAAnL,OAAA,GACA,SAAAmL,EAAA,IACA,IAGAH,EAHAhE,EAAA1C,MAAAwB,KAAA,SAAAnG,GACA,OAAAA,EAAA2F,OAAAiB,EAAAlB,KAAAC,KAAA,WAEA2F,YAAAnF,KAAA,SAAAnG,GACA,OAAAA,EAAA2F,OAAA6F,EAAA,aAGA,OACmB/B,EAAQ,GAAGhE,EAD9B4F,IAC8BpG,EAAA,IAAeuG,EAAA,aAC7CtB,GAAA7B,EAAAtC,OAAAgE,IACa9E,KAGeuC,EAAA,IAAegE,EAAA,KAC3CtB,GAAA7B,EAAAtC,OAAAgE,IACWvC,IAGX,IAAAkE,EAAA9E,EAAAlB,KAAAI,OAAAK,KAAA,SAAAvD,GACA,OAAAA,EAAA+C,OAAA6F,EAAA,KAEA9F,EAAmBuD,EAAYyC,EAAAhG,MAC/B,OAAe+D,EAAQ,GAAGhE,IAAAuF,EAAA,IAAejB,GAAAL,EAAAhE,EAAA2C,EAAAtC,OAAAgE,IAAAiB,IAGzC,IAAAW,EAAA/E,EAAAlB,KAAAI,OAAAK,KAAA,SAAAvD,GACA,OAAAA,EAAA+C,OAAAoE,IAGA,GAAA4B,EAAA,CACA,IAAAC,EAAqB3C,EAAY0C,EAAAjG,MACjCmG,EAAsBtC,EAAMoC,EAAAjG,MAE5B,OACiB+D,EAAQ,GAAGhE,EAD5BoG,IAC4BZ,EAAA,IAAelB,GAAAzD,MAAAC,QAAA8B,EAAAtC,OAAAgE,IAAA1B,EAAAtC,OAAAgE,GAAArD,IAAA,SAAAjF,GAC3C,OAAAiI,EAAAkC,EAAAnK,KACWiI,EAAAkC,EAAA,CAAAvD,EAAAtC,OAAAgE,KAAAkB,KAGeC,EAAA,IAAenB,GAAAL,EAAAkC,EAAAvD,EAAAtC,OAAAgE,IAAAmB,IAGzC,OAAazB,EAAQ,GAAGhE,IAAA0F,EAAA,IAAepB,GAAA1B,EAAAtC,OAAAgE,GAAAoB,KAClC,IACL,OACAW,KAAAnC,SAAAtB,EAAA0D,WAAAD,KAAA,MACAE,QAAArC,SAAAtB,EAAA0D,WAAAC,QAAA,IACAC,UAAA5D,EAAA6D,KAAAC,MACAC,UAAA/D,EAAA6D,KAAAG,MACAtG,WA6CiBuG,CAAqBjF,EAArBiF,CAAqB1F,EAAAV,EAAAmC,EAAAzC,GAGtC,KAAW3E,EAAA,EACX,OACA8E,OAAA,CACAqF,IAAA/C,EAAA+C,MAIA,KAAWnK,EAAA,EAGX,OACA8E,QAAAtB,EAAA,GAA4BA,EAF5B4D,EAAAkE,OAAAd,MAAA,KAE4B,KAC5BvB,GAAA7B,EAAA6B,IACazF,IAIb,KAAWxD,EAAA,EACX,OACAiJ,GAAA7B,EAAA6B,IAGA,KAAWjJ,EAAA,EAKX,KAAWA,EAAA,EAEX,OAAA4I,IAAAjD,EAAAV,EAAAmC,EAAAzC,GAGA,KAAW3E,EAAA,EACX,OACAiJ,GAAA7B,EAAA6B,OLjM4BvK,EOqGZ,SAAA0H,GAChB,gBAAAT,EAAAV,EAAAN,EAAAgD,GACAA,EAAAqD,UACArD,EAAAwD,UADA,IAEAI,EAAwBnC,EAAMzB,EAAA,2BAE9B6D,EAAqB9B,EAAe/E,EAAAgD,GACpCoB,EAAeM,EAAS1E,EAAAgD,GACxB8D,EAAmBpC,EAAS1E,EAAA4G,GAC5B1G,EA7FsB,SAAA6G,EAAAtF,GACtB,gBAAAvB,GACA,OAAAA,EAAAN,OAAA,SAAAC,EAAA0G,GACA,IAAAzG,EAAiBuD,EAAYkD,EAAAzG,MAE7B,GAAAA,EAAAC,KAAAiH,WAAA,KACA,OAAAnH,EAGA,GAAAC,EAAAyD,OAAwB9D,EAAA,EAAQwH,OAChC,OAAApH,EAAArE,OAAA,CAA2BsJ,EAAA,MAAeA,EAAA,KAAayB,EAAAxG,SAOvD,GAJA0B,EAAArC,UAAAmB,KAAA,SAAA2G,GACA,OAAAA,EAAApH,KAAAC,OAAAD,EAAAC,OAIA,OAAAF,EAAArE,OAAA,CAA2BsJ,EAAA,MAAeA,EAAA,KAAayB,EAAAxG,MAAA,eAAgC+E,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa,YAG1I,IAAAqC,EAAA1F,EAAA1C,MAAAwB,KAAA,SAAAnG,GACA,OAAAA,EAAA2F,OAAAD,EAAAC,OAGA,OAAAoH,EACAtH,EAAArE,OAAA,CAA2BsJ,EAAA,MAAeA,EAAA,KAAayB,EAAAxG,MAAA,eAAgC+E,EAAA,aAAqBiC,EAAAtF,EAAAsF,CAAAI,EAAAjH,YAK5GL,GACK,KA6DYuH,CAAW3F,EAAX2F,CAAWpG,EAAAlB,KAAAI,QAE5B,OAAAI,IAAyBjF,EAAA,GAAQiF,IAAqBjF,EAAA,GAAQiF,IAAqBjF,EAAA,EACtEyJ,EAAA,SAAiB,CAAEA,EAAA,oBAA4B,QAAUA,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa9E,EAAAD,MAAkB+E,EAAA,KAAa,SAAAV,EAAA,KAAuBU,EAAA,aAAqB5E,IAAW4E,EAAA,MAAeA,EAAA,KAAa,IAAA9E,EAAAD,KAAA,QAAiC+E,EAAA,KAAa,SAAAgC,EAAA,KAA2BhC,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa,eAAiBA,EAAA,KAAa9E,EAAAD,MAAA8G,KAGrYvG,IAAyBjF,EAAA,EACZyJ,EAAA,SAAiB,CAAEA,EAAA,oBAA4B,WAAaA,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa9E,EAAAD,MAAkB+E,EAAA,KAAa,QAAAV,EAAA,KAAsBU,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa,YAAcA,EAAA,KAAa9E,EAAAD,MAAA8G,KAGpP/B,EAAA,SAAiB,CAAEA,EAAA,oBAA6BxG,EAAWsC,SAAAN,GAAA,mBAAgDwE,EAAA,aAAqB,CAAEA,EAAA,MAAeA,EAAA,KAAa9E,EAAAD,MAAkB+E,EAAA,KAAa,QAAAV,EAAA,KAAsBU,EAAA,aAAqB5E,MAAa4E,EAAA,KAAa9E,EAAAD,MAAA8G,OPxHjP7M,EQ2DZ,SAAAyH,GAChB,gBAAAnB,EAAAU,GACA,gBAAAqG,GACA,IAAAC,EA7CoB,SAAAC,EAAA9F,EAAAT,GACpB,gBAAAtB,GAqCA,OApCAxF,OAAAgK,KAAAxE,GAAAE,OAAA,SAAAC,EAAAsE,GACA,IAAAtF,EAAAQ,EAAAuC,EAAAwD,EAEA,GAAAjB,EAAA6C,WAAA,KACA,OAAAnH,EAGA,IAAA0G,EAAAvF,EAAAlB,KAAAI,OAAAK,KAAA,SAAAvD,GACA,OAAAA,EAAA+C,OAAAoE,IAEArE,EAAiBuD,EAAYkD,EAAAzG,MAE7B,GAAAA,EAAAyD,OAAwB9D,EAAA,EAAQwH,OAChC,OAAe/B,EAAQ,GAAGrF,IAAAhB,EAAA,IAAe0H,EAAAxG,MAAAL,EAAA6G,EAAAxG,MAAAlB,IAKzC,IAAA2I,EAAA/F,EAAArC,UAAAmB,KAAA,SAAA2G,GACA,OAAAA,EAAApH,KAAAC,OAAAD,EAAAC,OAGA,GAAAyH,EAAA,CACA,IAAAC,EAAA/H,EAAA6G,EAAAxG,MAEA,OAAAW,MAAAC,QAAA8G,GACiBvC,EAAQ,GAAGrF,IAAAR,EAAA,IAAekH,EAAAxG,MAAAL,EAAA6G,EAAAxG,MAAAe,IAAAyG,EAAA9F,EAAA+F,IAAAnI,EAAAkH,EAAAxG,KAAA,OAAAL,EAAA6G,EAAAxG,MAAAe,IAAA,SAAA4G,GAC3C,OAAAA,EAAApD,KACWjF,IAGI6F,EAAQ,GAAGrF,IAAA+B,EAAA,IAAe2E,EAAAxG,KAAA,OAAA0H,EAAA/H,EAAA6G,EAAAxG,MAAAuE,QAAA3F,EAAAiD,EAAA2E,EAAAxG,MAAA0H,EAAAF,EAAA9F,EAAA+F,EAAAD,CAAA7H,EAAA6G,EAAAxG,YAAApB,EAAAiD,IAGzC,OAAasD,EAAQ,GAAGrF,IAAAuF,EAAA,IAAemB,EAAAxG,MAAAL,EAAA6G,EAAAxG,MAAAqF,KAClC,KAQgBuC,CAAgBlG,EAAAT,GACrCtB,EAAA2H,EAAA3H,KAEA,OAAAY,IAA2BjF,EAAA,GAAQiF,IAAqBjF,EAAA,GAAQiF,IAAqBjF,EAAA,EACrF,CACAqE,KAAA2H,EAAA3H,KAAAkI,MAAA9G,IAAAwG,GACAO,MAAAR,EAAA3H,KAAAmI,MAAAC,OAIA,CACApI,KAAA4H,EAAA5H,YRxEA,SAAA+B,GACA,IAAAsG,EAAAtG,EAAArC,UAAA0B,IAAA,SAAAoG,GACA,OAAAA,EAAApH,KAAAC,OAEA,gBAAAO,EAAA0H,EAAAvF,GACA,IAAAzB,EAAAS,EAAArC,UAAAmB,KAAA,SAAA2G,GACA,OAAAA,EAAApH,KAAAC,OAAAiI,IAGA,IAAAhH,EACA,UAAAiH,MAAA,oBAAAD,EAAA,oFAAAD,EAAAG,KAAA,OAGA,IAAAlI,EAAAgB,EAAAV,GAEA,IAAAN,EACA,UAAAiI,MAAA,gDAAA3H,EAAA,gCAAAU,EAAAlB,KAAAC,MAGA,IAAAiD,EAAAlJ,EAAA2H,EAAA3H,CAAAkH,EAAAV,EAAAmC,EAAAzC,GAGA,OACAV,MAHAvF,EAAA0H,EAAA1H,CAAAiH,EAAAV,EAAAN,EAAAgD,GAIAA,YACAJ,cAJA5I,EAAAyH,EAAAzH,CAAAsG,EAAAU,EAAAhB,OSzBImI,EAAuB,WAa3B,OAZEA,EAAQjO,OAAAC,QAAA,SAAAC,GACV,QAAAC,EAAAC,EAAA,EAAAC,EAAAC,UAAAC,OAA4CH,EAAAC,EAAOD,IAGnD,QAAAI,KAFAL,EAAAG,UAAAF,GAGAJ,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,KAAAN,EAAAM,GAAAL,EAAAK,IAIA,OAAAN,IAGiBU,MAAAC,KAAAP,YAGb4N,EAAqB,SAAA/N,EAAAY,GACzB,IAAAb,EAAA,GAEA,QAAAM,KAAAL,EACAH,OAAAS,UAAAC,eAAAC,KAAAR,EAAAK,IAAAO,EAAAC,QAAAR,GAAA,IAAAN,EAAAM,GAAAL,EAAAK,IAGA,SAAAL,GAAA,oBAAAH,OAAAiB,sBAAA,KAAAb,EAAA,MAAAI,EAAAR,OAAAiB,sBAAAd,GAA2HC,EAAAI,EAAAD,OAAcH,IACzIW,EAAAC,QAAAR,EAAAJ,IAAA,IAAAF,EAAAM,EAAAJ,IAAAD,EAAAK,EAAAJ,KAEA,OAAAF,GAOIiO,EAAc,CAClB3G,WAAcyD,GChCCmD,EAAA,mBACX,IDkCY5J,ECZZ,ODYYA,ECZa,CACrB2C,cAAe,CACXc,IAAK,kCDWRhB,EAAkBU,IAAK,GAAKwG,EAAc3J,IAAA7B,KAAA,SAAA0L,GACnD,gBAAAC,EAAAxH,EAAAyB,GAGA,GAAA+F,IAAwBnN,EAAA,EAAW,CACnCoH,EAAA+C,IAAA,IACAiD,EAA4BL,EAAM3F,EAAA,SAElC,OAAArG,QAAAsM,IAAAjG,EAAA+C,IAAA1E,IAAA,SAAAwD,GACA,OAAAiE,EAAqClN,EAAA,EAAM2F,EAAYmH,EAAQ,CAC/D7D,MACWmE,OACF5L,KAAA,SAAA8L,GAKT,OACAjJ,KALAiJ,EAAA/I,OAAA,SAAAC,EAAAhB,GACA,IAAAa,EAAAb,EAAAa,KACA,OAAAG,EAAArE,OAAA,CAAAkE,EAAA4E,MACW,OASX,GAAAkE,IAAwBnN,EAAA,EAAW,CACnCoH,EAAA+C,IAAA,IACAoD,EAA4BR,EAAM3F,EAAA,SAElC,OAAArG,QAAAsM,IAAAjG,EAAA+C,IAAA1E,IAAA,SAAAwD,GACA,OAAAiE,EAAqClN,EAAA,EAAM2F,EAAYmH,EAAQ,CAC/D7D,MACWsE,OACF/L,KAAA,SAAA8L,GAKT,OACAjJ,KALAiJ,EAAA/I,OAAA,SAAAC,EAAAhB,GACA,IAAAa,EAAAb,EAAAa,KACA,OAAAG,EAAArE,OAAA,CAAAkE,EAAA4E,MACW,OAOX,OAAAiE,EAAAC,EAAAxH,EAAAyB,OCrDO5F,KAAK,SAAAgM,GAAY,OAAI,SAAC/I,EAAMkB,EAAUyB,GAAjB,OACpBoG,EAAa/I,EA3BM,SAAAkB,GACnB,OAAQA,GACJ,IAAK,YACD,MAAO,WAEX,IAAK,aACD,MAAO,WAEX,IAAK,WACD,MAAO,UAEX,IAAK,WACD,MAAO,UAEX,IAAK,UACD,MAAO,SAEX,QACI,MAAM,IAAIiH,MAAJ,oBAAAzM,OAA8BwF,KASzB8H,CAAe9H,GAAWyB","file":"static/js/4.29cd152a.chunk.js","sourcesContent":["var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar _this = this;\n\nimport { introspectionQuery } from 'graphql';\nimport gql from 'graphql-tag';\nimport { GET_LIST, GET_ONE } from 'ra-core';\nimport { ALL_TYPES } from './constants';\nexport var filterTypesByIncludeExclude = function filterTypesByIncludeExclude(_a) {\n  var include = _a.include,\n      exclude = _a.exclude;\n\n  if (Array.isArray(include)) {\n    return function (type) {\n      return include.includes(type.name);\n    };\n  }\n\n  if (typeof include === 'function') {\n    return function (type) {\n      return include(type);\n    };\n  }\n\n  if (Array.isArray(exclude)) {\n    return function (type) {\n      return !exclude.includes(type.name);\n    };\n  }\n\n  if (typeof exclude === 'function') {\n    return function (type) {\n      return !exclude(type);\n    };\n  }\n\n  return function () {\n    return true;\n  };\n};\n/**\n * @param {ApolloClient} client The Apollo client\n * @param {Object} options The introspection options\n */\n\nexport default (function (client, options) {\n  return __awaiter(_this, void 0, void 0, function () {\n    var schema, _a, queries, types, isResource, buildResource, potentialResources, filteredResources, resources;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          if (!options.schema) return [3\n          /*break*/\n          , 1];\n          _a = options.schema;\n          return [3\n          /*break*/\n          , 3];\n\n        case 1:\n          return [4\n          /*yield*/\n          , client.query({\n            fetchPolicy: 'network-only',\n            query: gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n                      \", \"\\n                  \"], [\"\\n                      \", \"\\n                  \"])), introspectionQuery)\n          }).then(function (_a) {\n            var __schema = _a.data.__schema;\n            return __schema;\n          })];\n\n        case 2:\n          _a = _b.sent();\n          _b.label = 3;\n\n        case 3:\n          schema = _a;\n          queries = schema.types.reduce(function (acc, type) {\n            if (type.name !== schema.queryType.name && type.name !== schema.mutationType.name) return acc;\n            return acc.concat(type.fields);\n          }, []);\n          types = schema.types.filter(function (type) {\n            return type.name !== schema.queryType.name && type.name !== schema.mutationType.name;\n          });\n\n          isResource = function isResource(type) {\n            return queries.some(function (query) {\n              return query.name === options.operationNames[GET_LIST](type);\n            }) && queries.some(function (query) {\n              return query.name === options.operationNames[GET_ONE](type);\n            });\n          };\n\n          buildResource = function buildResource(type) {\n            return ALL_TYPES.reduce(function (acc, aorFetchType) {\n              var _a;\n\n              return __assign({}, acc, (_a = {}, _a[aorFetchType] = queries.find(function (query) {\n                return options.operationNames[aorFetchType] && query.name == options.operationNames[aorFetchType](type);\n              }), _a));\n            }, {\n              type: type\n            });\n          };\n\n          potentialResources = types.filter(isResource);\n          filteredResources = potentialResources.filter(filterTypesByIncludeExclude(options));\n          resources = filteredResources.map(buildResource);\n          return [2\n          /*return*/\n          , {\n            types: types,\n            queries: queries,\n            resources: resources,\n            schema: schema\n          }];\n      }\n    });\n  });\n});\nvar templateObject_1;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar _a;\n\nvar _this = this;\n\nimport merge from 'lodash/merge';\nimport get from 'lodash/get';\nimport pluralize from 'pluralize';\nimport { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, DELETE } from 'ra-core';\nimport buildApolloClient from './buildApolloClient';\nimport { QUERY_TYPES as INNER_QUERY_TYPES, MUTATION_TYPES as INNER_MUTATION_TYPES, ALL_TYPES as INNER_ALL_TYPES } from './constants';\nimport defaultResolveIntrospection from './introspection';\nexport var QUERY_TYPES = INNER_QUERY_TYPES;\nexport var MUTATION_TYPES = INNER_MUTATION_TYPES;\nexport var ALL_TYPES = INNER_ALL_TYPES;\nvar defaultOptions = {\n  resolveIntrospection: defaultResolveIntrospection,\n  introspection: {\n    operationNames: (_a = {}, _a[GET_LIST] = function (resource) {\n      return \"all\" + pluralize(resource.name);\n    }, _a[GET_ONE] = function (resource) {\n      return \"\" + resource.name;\n    }, _a[GET_MANY] = function (resource) {\n      return \"all\" + pluralize(resource.name);\n    }, _a[GET_MANY_REFERENCE] = function (resource) {\n      return \"all\" + pluralize(resource.name);\n    }, _a[CREATE] = function (resource) {\n      return \"create\" + resource.name;\n    }, _a[UPDATE] = function (resource) {\n      return \"update\" + resource.name;\n    }, _a[DELETE] = function (resource) {\n      return \"delete\" + resource.name;\n    }, _a),\n    exclude: undefined,\n    include: undefined\n  }\n};\n\nvar getOptions = function getOptions(options, aorFetchType, resource) {\n  if (typeof options === 'function') {\n    return options(resource, aorFetchType);\n  }\n\n  return options;\n};\n\nexport default (function (options) {\n  return __awaiter(_this, void 0, void 0, function () {\n    var _a, clientObject, clientOptions, introspection, resolveIntrospection, buildQueryFactory, _b, override, otherOptions, client, introspectionResults, buildQuery, raDataProvider;\n\n    return __generator(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          _a = merge({}, defaultOptions, options), clientObject = _a.client, clientOptions = _a.clientOptions, introspection = _a.introspection, resolveIntrospection = _a.resolveIntrospection, buildQueryFactory = _a.buildQuery, _b = _a.override, override = _b === void 0 ? {} : _b, otherOptions = __rest(_a, [\"client\", \"clientOptions\", \"introspection\", \"resolveIntrospection\", \"buildQuery\", \"override\"]);\n\n          if (override && process.env.NODE_ENV === 'production') {\n            console.warn( // eslint-disable-line\n            'The override option is deprecated. You should instead wrap the buildQuery function provided by the dataProvider you use.');\n          }\n\n          client = clientObject || buildApolloClient(clientOptions);\n          if (!introspection) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , resolveIntrospection(client, introspection)];\n\n        case 1:\n          introspectionResults = _c.sent();\n          _c.label = 2;\n\n        case 2:\n          buildQuery = buildQueryFactory(introspectionResults, otherOptions);\n\n          raDataProvider = function raDataProvider(aorFetchType, resource, params) {\n            var overridedbuildQuery = get(override, resource + \".\" + aorFetchType);\n\n            var _a = overridedbuildQuery ? __assign({}, buildQuery(aorFetchType, resource, params), overridedbuildQuery(params)) : buildQuery(aorFetchType, resource, params),\n                parseResponse = _a.parseResponse,\n                query = __rest(_a, [\"parseResponse\"]);\n\n            if (QUERY_TYPES.includes(aorFetchType)) {\n              var apolloQuery_1 = __assign({}, query, {\n                fetchPolicy: 'network-only'\n              }, getOptions(otherOptions.query, aorFetchType, resource));\n\n              return client.query(apolloQuery_1).then(parseResponse);\n            }\n\n            var apolloQuery = __assign({\n              mutation: query.query,\n              variables: query.variables\n            }, getOptions(otherOptions.mutation, aorFetchType, resource));\n\n            return client.mutate(apolloQuery).then(parseResponse);\n          };\n\n          raDataProvider.observeRequest = function (aorFetchType, resource, params) {\n            var _a = buildQuery(aorFetchType, resource, params),\n                parseResponse = _a.parseResponse,\n                query = __rest(_a, [\"parseResponse\"]);\n\n            var apolloQuery = __assign({}, query, getOptions(otherOptions.watchQuery, aorFetchType, resource));\n\n            return client.watchQuery(apolloQuery).then(parseResponse);\n          };\n\n          raDataProvider.saga = function () {};\n\n          return [2\n          /*return*/\n          , raDataProvider];\n      }\n    });\n  });\n});","import buildVariables from './buildVariables';\nimport buildGqlQuery from './buildGqlQuery';\nimport getResponseParser from './getResponseParser';\nexport var buildQueryFactory = function buildQueryFactory(buildVariablesImpl, buildGqlQueryImpl, getResponseParserImpl) {\n  return function (introspectionResults) {\n    var knownResources = introspectionResults.resources.map(function (r) {\n      return r.type.name;\n    });\n    return function (aorFetchType, resourceName, params) {\n      var resource = introspectionResults.resources.find(function (r) {\n        return r.type.name === resourceName;\n      });\n\n      if (!resource) {\n        throw new Error(\"Unknown resource \" + resourceName + \". Make sure it has been declared on your server side schema. Known resources are \" + knownResources.join(', '));\n      }\n\n      var queryType = resource[aorFetchType];\n\n      if (!queryType) {\n        throw new Error(\"No query or mutation matching aor fetch type \" + aorFetchType + \" could be found for resource \" + resource.type.name);\n      }\n\n      var variables = buildVariablesImpl(introspectionResults)(resource, aorFetchType, params, queryType);\n      var query = buildGqlQueryImpl(introspectionResults)(resource, aorFetchType, queryType, variables);\n      var parseResponse = getResponseParserImpl(introspectionResults)(aorFetchType, resource, queryType);\n      return {\n        query: query,\n        variables: variables,\n        parseResponse: parseResponse\n      };\n    };\n  };\n};\nexport default buildQueryFactory(buildVariables, buildGqlQuery, getResponseParser);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ApolloClient } from 'apollo-client';\nimport { HttpLink, InMemoryCache } from 'apollo-client-preset';\nexport default (function (options) {\n  if (!options) {\n    return new ApolloClient();\n  }\n\n  var cache = options.cache,\n      link = options.link,\n      uri = options.uri,\n      otherOptions = __rest(options, [\"cache\", \"link\", \"uri\"]);\n\n  var finalLink = link;\n  var finalCache = cache;\n\n  if (!link && uri) {\n    finalLink = new HttpLink({\n      uri: uri\n    });\n  }\n\n  if (!cache) {\n    finalCache = new InMemoryCache().restore({});\n  }\n\n  return new ApolloClient(__assign({\n    link: finalLink,\n    cache: finalCache\n  }, otherOptions));\n});","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY } from 'ra-core';\nexport var QUERY_TYPES = [GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE];\nexport var MUTATION_TYPES = [CREATE, UPDATE, DELETE, UPDATE_MANY, DELETE_MANY];\nexport var ALL_TYPES = QUERY_TYPES.concat(MUTATION_TYPES);","import { TypeKind } from 'graphql';\n/**\n * Ensure we get the real type even if the root type is NON_NULL or LIST\n * @param {GraphQLType} type\n */\n\nvar getFinalType = function getFinalType(type) {\n  if (type.kind === TypeKind.NON_NULL || type.kind === TypeKind.LIST) {\n    return getFinalType(type.ofType);\n  }\n\n  return type;\n};\n\nexport default getFinalType;","import { TypeKind } from 'graphql';\n\nvar isList = function isList(type) {\n  if (type.kind === TypeKind.NON_NULL) {\n    return isList(type.ofType);\n  }\n\n  return type.kind === TypeKind.LIST;\n};\n\nexport default isList;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, DELETE } from 'ra-core';\nimport getFinalType from './getFinalType';\nimport isList from './isList';\n\nvar sanitizeValue = function sanitizeValue(type, value) {\n  if (type.name === 'Int') {\n    return parseInt(value, 10);\n  }\n\n  if (type.name === 'Float') {\n    return parseFloat(value);\n  }\n\n  return value;\n};\n\nvar buildGetListVariables = function buildGetListVariables(introspectionResults) {\n  return function (resource, aorFetchType, params) {\n    var filter = Object.keys(params.filter).reduce(function (acc, key) {\n      var _a, _b, _c, _d, _e, _f, _g;\n\n      if (key === 'ids') {\n        return __assign({}, acc, {\n          ids: params.filter[key]\n        });\n      }\n\n      if (typeof params.filter[key] === 'object') {\n        var type = introspectionResults.types.find(function (t) {\n          return t.name === resource.type.name + \"Filter\";\n        });\n        var filterSome = type.inputFields.find(function (t) {\n          return t.name === key + \"_some\";\n        });\n\n        if (filterSome) {\n          var filter_1 = Object.keys(params.filter[key]).reduce(function (acc, k) {\n            var _a;\n\n            return __assign({}, acc, (_a = {}, _a[k + \"_in\"] = params.filter[key][k], _a));\n          }, {});\n          return __assign({}, acc, (_a = {}, _a[key + \"_some\"] = filter_1, _a));\n        }\n      }\n\n      var parts = key.split('.');\n\n      if (parts.length > 1) {\n        if (parts[1] == 'id') {\n          var type_1 = introspectionResults.types.find(function (t) {\n            return t.name === resource.type.name + \"Filter\";\n          });\n          var filterSome = type_1.inputFields.find(function (t) {\n            return t.name === parts[0] + \"_some\";\n          });\n\n          if (filterSome) {\n            return __assign({}, acc, (_b = {}, _b[parts[0] + \"_some\"] = {\n              id: params.filter[key]\n            }, _b));\n          }\n\n          return __assign({}, acc, (_c = {}, _c[parts[0]] = {\n            id: params.filter[key]\n          }, _c));\n        }\n\n        var resourceField_1 = resource.type.fields.find(function (f) {\n          return f.name === parts[0];\n        });\n        var type = getFinalType(resourceField_1.type);\n        return __assign({}, acc, (_d = {}, _d[key] = sanitizeValue(type, params.filter[key]), _d));\n      }\n\n      var resourceField = resource.type.fields.find(function (f) {\n        return f.name === key;\n      });\n\n      if (resourceField) {\n        var type_2 = getFinalType(resourceField.type);\n        var isAList = isList(resourceField.type);\n\n        if (isAList) {\n          return __assign({}, acc, (_e = {}, _e[key] = Array.isArray(params.filter[key]) ? params.filter[key].map(function (value) {\n            return sanitizeValue(type_2, value);\n          }) : sanitizeValue(type_2, [params.filter[key]]), _e));\n        }\n\n        return __assign({}, acc, (_f = {}, _f[key] = sanitizeValue(type_2, params.filter[key]), _f));\n      }\n\n      return __assign({}, acc, (_g = {}, _g[key] = params.filter[key], _g));\n    }, {});\n    return {\n      page: parseInt(params.pagination.page, 10) - 1,\n      perPage: parseInt(params.pagination.perPage, 10),\n      sortField: params.sort.field,\n      sortOrder: params.sort.order,\n      filter: filter\n    };\n  };\n};\n\nvar buildCreateUpdateVariables = function buildCreateUpdateVariables() {\n  return function (resource, aorFetchType, params, queryType) {\n    return Object.keys(params.data).reduce(function (acc, key) {\n      var _a, _b, _c;\n\n      if (Array.isArray(params.data[key])) {\n        var arg = queryType.args.find(function (a) {\n          return a.name === key + \"Ids\";\n        });\n\n        if (arg) {\n          return __assign({}, acc, (_a = {}, _a[key + \"Ids\"] = params.data[key].map(function (_a) {\n            var id = _a.id;\n            return id;\n          }), _a));\n        }\n      }\n\n      if (typeof params.data[key] === 'object') {\n        var arg = queryType.args.find(function (a) {\n          return a.name === key + \"Id\";\n        });\n\n        if (arg) {\n          return __assign({}, acc, (_b = {}, _b[key + \"Id\"] = params.data[key].id, _b));\n        }\n      }\n\n      return __assign({}, acc, (_c = {}, _c[key] = params.data[key], _c));\n    }, {});\n  };\n};\n\nexport default (function (introspectionResults) {\n  return function (resource, aorFetchType, params, queryType) {\n    var _a;\n\n    switch (aorFetchType) {\n      case GET_LIST:\n        {\n          return buildGetListVariables(introspectionResults)(resource, aorFetchType, params, queryType);\n        }\n\n      case GET_MANY:\n        return {\n          filter: {\n            ids: params.ids\n          }\n        };\n\n      case GET_MANY_REFERENCE:\n        {\n          var parts = params.target.split('.');\n          return {\n            filter: (_a = {}, _a[parts[0]] = {\n              id: params.id\n            }, _a)\n          };\n        }\n\n      case GET_ONE:\n        return {\n          id: params.id\n        };\n\n      case UPDATE:\n        {\n          return buildCreateUpdateVariables(introspectionResults)(resource, aorFetchType, params, queryType);\n        }\n\n      case CREATE:\n        {\n          return buildCreateUpdateVariables(introspectionResults)(resource, aorFetchType, params, queryType);\n        }\n\n      case DELETE:\n        return {\n          id: params.id\n        };\n    }\n  };\n});","import { TypeKind } from 'graphql';\n\nvar isRequired = function isRequired(type) {\n  if (type.kind === TypeKind.LIST) {\n    return isRequired(type.ofType);\n  }\n\n  return type.kind === TypeKind.NON_NULL;\n};\n\nexport default isRequired;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { GET_LIST, GET_MANY, GET_MANY_REFERENCE, DELETE } from 'ra-core';\nimport { QUERY_TYPES } from 'ra-data-graphql';\nimport { TypeKind } from 'graphql';\nimport * as gqlTypes from 'graphql-ast-types-browser';\nimport getFinalType from './getFinalType';\nimport isList from './isList';\nimport isRequired from './isRequired';\nexport var buildFields = function buildFields(introspectionResults) {\n  return function (fields) {\n    return fields.reduce(function (acc, field) {\n      var type = getFinalType(field.type);\n\n      if (type.name.startsWith('_')) {\n        return acc;\n      }\n\n      if (type.kind !== TypeKind.OBJECT) {\n        return acc.concat([gqlTypes.field(gqlTypes.name(field.name))]);\n      }\n\n      var linkedResource = introspectionResults.resources.find(function (r) {\n        return r.type.name === type.name;\n      });\n\n      if (linkedResource) {\n        return acc.concat([gqlTypes.field(gqlTypes.name(field.name), null, null, null, gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name('id'))]))]);\n      }\n\n      var linkedType = introspectionResults.types.find(function (t) {\n        return t.name === type.name;\n      });\n\n      if (linkedType) {\n        return acc.concat([gqlTypes.field(gqlTypes.name(field.name), null, null, null, gqlTypes.selectionSet(buildFields(introspectionResults)(linkedType.fields)))]);\n      } // NOTE: We might have to handle linked types which are not resources but will have to be careful about\n      // ending with endless circular dependencies\n\n\n      return acc;\n    }, []);\n  };\n};\nexport var getArgType = function getArgType(arg) {\n  var type = getFinalType(arg.type);\n  var required = isRequired(arg.type);\n  var list = isList(arg.type);\n\n  if (list) {\n    if (required) {\n      return gqlTypes.listType(gqlTypes.nonNullType(gqlTypes.namedType(gqlTypes.name(type.name))));\n    }\n\n    return gqlTypes.listType(gqlTypes.namedType(gqlTypes.name(type.name)));\n  }\n\n  if (required) {\n    return gqlTypes.nonNullType(gqlTypes.namedType(gqlTypes.name(type.name)));\n  }\n\n  return gqlTypes.namedType(gqlTypes.name(type.name));\n};\nexport var buildArgs = function buildArgs(query, variables) {\n  if (query.args.length === 0) {\n    return [];\n  }\n\n  var validVariables = Object.keys(variables).filter(function (k) {\n    return typeof variables[k] !== 'undefined';\n  });\n  var args = query.args.filter(function (a) {\n    return validVariables.includes(a.name);\n  }).reduce(function (acc, arg) {\n    return acc.concat([gqlTypes.argument(gqlTypes.name(arg.name), gqlTypes.variable(gqlTypes.name(arg.name)))]);\n  }, []);\n  return args;\n};\nexport var buildApolloArgs = function buildApolloArgs(query, variables) {\n  if (query.args.length === 0) {\n    return [];\n  }\n\n  var validVariables = Object.keys(variables).filter(function (k) {\n    return typeof variables[k] !== 'undefined';\n  });\n  var args = query.args.filter(function (a) {\n    return validVariables.includes(a.name);\n  }).reduce(function (acc, arg) {\n    return acc.concat([gqlTypes.variableDefinition(gqlTypes.variable(gqlTypes.name(arg.name)), getArgType(arg))]);\n  }, []);\n  return args;\n};\nexport default (function (introspectionResults) {\n  return function (resource, aorFetchType, queryType, variables) {\n    var sortField = variables.sortField,\n        sortOrder = variables.sortOrder,\n        metaVariables = __rest(variables, [\"sortField\", \"sortOrder\"]);\n\n    var apolloArgs = buildApolloArgs(queryType, variables);\n    var args = buildArgs(queryType, variables);\n    var metaArgs = buildArgs(queryType, metaVariables);\n    var fields = buildFields(introspectionResults)(resource.type.fields);\n\n    if (aorFetchType === GET_LIST || aorFetchType === GET_MANY || aorFetchType === GET_MANY_REFERENCE) {\n      return gqlTypes.document([gqlTypes.operationDefinition('query', gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('items'), args, null, gqlTypes.selectionSet(fields)), gqlTypes.field(gqlTypes.name(\"_\" + queryType.name + \"Meta\"), gqlTypes.name('total'), metaArgs, null, gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name('count'))]))]), gqlTypes.name(queryType.name), apolloArgs)]);\n    }\n\n    if (aorFetchType === DELETE) {\n      return gqlTypes.document([gqlTypes.operationDefinition('mutation', gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('data'), args, null, gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name('id'))]))]), gqlTypes.name(queryType.name), apolloArgs)]);\n    }\n\n    return gqlTypes.document([gqlTypes.operationDefinition(QUERY_TYPES.includes(aorFetchType) ? 'query' : 'mutation', gqlTypes.selectionSet([gqlTypes.field(gqlTypes.name(queryType.name), gqlTypes.name('data'), args, null, gqlTypes.selectionSet(fields))]), gqlTypes.name(queryType.name), apolloArgs)]);\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { TypeKind } from 'graphql';\nimport { GET_LIST, GET_MANY, GET_MANY_REFERENCE } from 'ra-core';\nimport getFinalType from './getFinalType';\n\nvar sanitizeResource = function sanitizeResource(introspectionResults, resource) {\n  return function (data) {\n    var result = Object.keys(data).reduce(function (acc, key) {\n      var _a, _b, _c, _d;\n\n      if (key.startsWith('_')) {\n        return acc;\n      }\n\n      var field = resource.type.fields.find(function (f) {\n        return f.name === key;\n      });\n      var type = getFinalType(field.type);\n\n      if (type.kind !== TypeKind.OBJECT) {\n        return __assign({}, acc, (_a = {}, _a[field.name] = data[field.name], _a));\n      } // FIXME: We might have to handle linked types which are not resources but will have to be careful about\n      // endless circular dependencies\n\n\n      var linkedResource = introspectionResults.resources.find(function (r) {\n        return r.type.name === type.name;\n      });\n\n      if (linkedResource) {\n        var linkedResourceData = data[field.name];\n\n        if (Array.isArray(linkedResourceData)) {\n          return __assign({}, acc, (_b = {}, _b[field.name] = data[field.name].map(sanitizeResource(introspectionResults, linkedResource)), _b[field.name + \"Ids\"] = data[field.name].map(function (d) {\n            return d.id;\n          }), _b));\n        }\n\n        return __assign({}, acc, (_c = {}, _c[field.name + \".id\"] = linkedResourceData ? data[field.name].id : undefined, _c[field.name] = linkedResourceData ? sanitizeResource(introspectionResults, linkedResource)(data[field.name]) : undefined, _c));\n      }\n\n      return __assign({}, acc, (_d = {}, _d[field.name] = data[field.name], _d));\n    }, {});\n    return result;\n  };\n};\n\nexport default (function (introspectionResults) {\n  return function (aorFetchType, resource) {\n    return function (response) {\n      var sanitize = sanitizeResource(introspectionResults, resource);\n      var data = response.data;\n\n      if (aorFetchType === GET_LIST || aorFetchType === GET_MANY || aorFetchType === GET_MANY_REFERENCE) {\n        return {\n          data: response.data.items.map(sanitize),\n          total: response.data.total.count\n        };\n      }\n\n      return {\n        data: sanitize(data.data)\n      };\n    };\n  };\n});","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport merge from 'lodash/merge';\nimport buildDataProvider from 'ra-data-graphql';\nimport { DELETE, DELETE_MANY, UPDATE, UPDATE_MANY } from 'ra-core';\nimport defaultBuildQuery from './buildQuery';\nvar defaultOptions = {\n  buildQuery: defaultBuildQuery\n};\nexport var buildQuery = defaultBuildQuery;\nexport default (function (options) {\n  return buildDataProvider(merge({}, defaultOptions, options)).then(function (defaultDataProvider) {\n    return function (fetchType, resource, params) {\n      // This provider does not support multiple deletions so instead we send multiple DELETE requests\n      // This can be optimized using the apollo-link-batch-http link\n      if (fetchType === DELETE_MANY) {\n        var ids = params.ids,\n            otherParams_1 = __rest(params, [\"ids\"]);\n\n        return Promise.all(params.ids.map(function (id) {\n          return defaultDataProvider(DELETE, resource, __assign({\n            id: id\n          }, otherParams_1));\n        })).then(function (results) {\n          var data = results.reduce(function (acc, _a) {\n            var data = _a.data;\n            return acc.concat([data.id]);\n          }, []);\n          return {\n            data: data\n          };\n        });\n      } // This provider does not support multiple deletions so instead we send multiple UPDATE requests\n      // This can be optimized using the apollo-link-batch-http link\n\n\n      if (fetchType === UPDATE_MANY) {\n        var ids = params.ids,\n            otherParams_2 = __rest(params, [\"ids\"]);\n\n        return Promise.all(params.ids.map(function (id) {\n          return defaultDataProvider(UPDATE, resource, __assign({\n            id: id\n          }, otherParams_2));\n        })).then(function (results) {\n          var data = results.reduce(function (acc, _a) {\n            var data = _a.data;\n            return acc.concat([data.id]);\n          }, []);\n          return {\n            data: data\n          };\n        });\n      }\n\n      return defaultDataProvider(fetchType, resource, params);\n    };\n  });\n});","import buildApolloClient from 'ra-data-graphql-simple';\n\nexport default () => {\n    const getGqlResource = resource => {\n        switch (resource) {\n            case 'customers':\n                return 'Customer';\n\n            case 'categories':\n                return 'Category';\n\n            case 'commands':\n                return 'Command';\n\n            case 'products':\n                return 'Product';\n\n            case 'reviews':\n                return 'Review';\n\n            default:\n                throw new Error(`Unknown resource ${resource}`);\n        }\n    };\n\n    return buildApolloClient({\n        clientOptions: {\n            uri: 'http://localhost:4000/graphql',\n        },\n    }).then(dataProvider => (type, resource, params) =>\n        dataProvider(type, getGqlResource(resource), params)\n    );\n};\n"],"sourceRoot":""}
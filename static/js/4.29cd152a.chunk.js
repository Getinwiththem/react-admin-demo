(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1348:function(e,n,t){"use strict";t.r(n);var r,i,a,o,u,c=t(1013),f=t.n(c),l=t(35),s=t.n(l),d=t(1057),p=t.n(d),y=t(20),m=t(1349),v=t(1058),h=function(){return(h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t},w=[y.d,y.e,y.f,y.g],O=[y.a,y.h,y.b,y.i,y.c],g=w.concat(O),j=t(971),k=t(1016),P=t.n(k),S=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},T=function(){return(T=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},x=function(e,n,t,r){return new(t||(t=Promise))(function(i,a){function o(e){try{c(r.next(e))}catch(n){a(n)}}function u(e){try{c(r.throw(e))}catch(n){a(n)}}function c(e){e.done?i(e.value):new t(function(n){n(e.value)}).then(o,u)}c((r=r.apply(e,n||[])).next())})},N=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(u){a=[6,u],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},I=function(){return(I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},q=function(e,n,t,r){return new(t||(t=Promise))(function(i,a){function o(e){try{c(r.next(e))}catch(n){a(n)}}function u(e){try{c(r.throw(e))}catch(n){a(n)}}function c(e){e.done?i(e.value):new t(function(n){n(e.value)}).then(o,u)}c((r=r.apply(e,n||[])).next())})},_=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(u){a=[6,u],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},A=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t},L=w,F={resolveIntrospection:function(e,n){return x(void 0,void 0,void 0,function(){var t,i,a,o,u,c,f,l,s;return N(this,function(d){switch(d.label){case 0:return n.schema?(i=n.schema,[3,3]):[3,1];case 1:return[4,e.query({fetchPolicy:"network-only",query:P()(r||(r=S(["\n                      ","\n                  "],["\n                      ","\n                  "])),j.b)}).then(function(e){return e.data.__schema})];case 2:i=d.sent(),d.label=3;case 3:return a=(t=i).types.reduce(function(e,n){return n.name!==t.queryType.name&&n.name!==t.mutationType.name?e:e.concat(n.fields)},[]),o=t.types.filter(function(e){return e.name!==t.queryType.name&&e.name!==t.mutationType.name}),u=function(e){return a.some(function(t){return t.name===n.operationNames[y.d](e)})&&a.some(function(t){return t.name===n.operationNames[y.g](e)})},c=function(e){return g.reduce(function(t,r){var i;return T({},t,((i={})[r]=a.find(function(t){return n.operationNames[r]&&t.name==n.operationNames[r](e)}),i))},{type:e})},f=o.filter(u),l=f.filter(function(e){var n=e.include,t=e.exclude;return Array.isArray(n)?function(e){return n.includes(e.name)}:"function"===typeof n?function(e){return n(e)}:Array.isArray(t)?function(e){return!t.includes(e.name)}:"function"===typeof t?function(e){return!t(e)}:function(){return!0}}(n)),s=l.map(c),[2,{types:o,queries:a,resources:s,schema:t}]}})})},introspection:{operationNames:(i={},i[y.d]=function(e){return"all"+p()(e.name)},i[y.g]=function(e){return""+e.name},i[y.e]=function(e){return"all"+p()(e.name)},i[y.f]=function(e){return"all"+p()(e.name)},i[y.a]=function(e){return"create"+e.name},i[y.h]=function(e){return"update"+e.name},i[y.b]=function(e){return"delete"+e.name},i),exclude:void 0,include:void 0}},E=function(e,n,t){return"function"===typeof e?e(t,n):e},R=function(e){return q(void 0,void 0,void 0,function(){var n,t,r,i,a,o,u,c,l,d,p,y,w;return _(this,function(O){switch(O.label){case 0:return n=f()({},F,e),t=n.client,r=n.clientOptions,i=n.introspection,a=n.resolveIntrospection,o=n.buildQuery,u=n.override,c=void 0===u?{}:u,l=A(n,["client","clientOptions","introspection","resolveIntrospection","buildQuery","override"]),c&&console.warn("The override option is deprecated. You should instead wrap the buildQuery function provided by the dataProvider you use."),d=t||function(e){if(!e)return new m.a;var n=e.cache,t=e.link,r=e.uri,i=b(e,["cache","link","uri"]),a=t,o=n;return!t&&r&&(a=new v.HttpLink({uri:r})),n||(o=(new v.InMemoryCache).restore({})),new m.a(h({link:a,cache:o},i))}(r),i?[4,a(d,i)]:[3,2];case 1:p=O.sent(),O.label=2;case 2:return y=o(p,l),(w=function(e,n,t){var r=s()(c,n+"."+e),i=r?I({},y(e,n,t),r(t)):y(e,n,t),a=i.parseResponse,o=A(i,["parseResponse"]);if(L.includes(e)){var u=I({},o,{fetchPolicy:"network-only"},E(l.query,e,n));return d.query(u).then(a)}var f=I({mutation:o.query,variables:o.variables},E(l.mutation,e,n));return d.mutate(f).then(a)}).observeRequest=function(e,n,t){var r=y(e,n,t),i=r.parseResponse,a=A(r,["parseResponse"]),o=I({},a,E(l.watchQuery,e,n));return d.watchQuery(o).then(i)},w.saga=function(){},[2,w]}})})},C=function e(n){return n.kind===j.a.NON_NULL||n.kind===j.a.LIST?e(n.ofType):n},Q=function e(n){return n.kind===j.a.NON_NULL?e(n.ofType):n.kind===j.a.LIST},U=function(){return(U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},D=function(e,n){return"Int"===e.name?parseInt(n,10):"Float"===e.name?parseFloat(n):n},J=function(){return function(e,n,t,r){return Object.keys(t.data).reduce(function(e,n){var i,a,o;if(Array.isArray(t.data[n])&&r.args.find(function(e){return e.name===n+"Ids"}))return U({},e,((i={})[n+"Ids"]=t.data[n].map(function(e){return e.id}),i));if("object"===typeof t.data[n]&&r.args.find(function(e){return e.name===n+"Id"}))return U({},e,((a={})[n+"Id"]=t.data[n].id,a));return U({},e,((o={})[n]=t.data[n],o))},{})}},M=t(1015),B=function e(n){return n.kind===j.a.LIST?e(n.ofType):n.kind===j.a.NON_NULL},G=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t},W=function(e,n){if(0===e.args.length)return[];var t=Object.keys(n).filter(function(e){return"undefined"!==typeof n[e]});return e.args.filter(function(e){return t.includes(e.name)}).reduce(function(e,n){return e.concat([M.argument(M.name(n.name),M.variable(M.name(n.name)))])},[])},H=function(e,n){if(0===e.args.length)return[];var t=Object.keys(n).filter(function(e){return"undefined"!==typeof n[e]});return e.args.filter(function(e){return t.includes(e.name)}).reduce(function(e,n){return e.concat([M.variableDefinition(M.variable(M.name(n.name)),function(e){var n=C(e.type),t=B(e.type);return Q(e.type)?t?M.listType(M.nonNullType(M.namedType(M.name(n.name)))):M.listType(M.namedType(M.name(n.name))):t?M.nonNullType(M.namedType(M.name(n.name))):M.namedType(M.name(n.name))}(n))])},[])},K=function(){return(K=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},Y=(a=function(e){return function(n,t,r,i){var a;switch(t){case y.d:return function(e){return function(n,t,r){var i=Object.keys(r.filter).reduce(function(t,i){var a,o,u,c,f,l,s;if("ids"===i)return U({},t,{ids:r.filter[i]});if("object"===typeof r.filter[i]&&(y=(v=e.types.find(function(e){return e.name===n.type.name+"Filter"})).inputFields.find(function(e){return e.name===i+"_some"}))){var d=Object.keys(r.filter[i]).reduce(function(e,n){var t;return U({},e,((t={})[n+"_in"]=r.filter[i][n],t))},{});return U({},t,((a={})[i+"_some"]=d,a))}var p=i.split(".");if(p.length>1){if("id"==p[1]){var y=e.types.find(function(e){return e.name===n.type.name+"Filter"}).inputFields.find(function(e){return e.name===p[0]+"_some"});return U({},t,y?((o={})[p[0]+"_some"]={id:r.filter[i]},o):((u={})[p[0]]={id:r.filter[i]},u))}var m=n.type.fields.find(function(e){return e.name===p[0]}),v=C(m.type);return U({},t,((c={})[i]=D(v,r.filter[i]),c))}var h=n.type.fields.find(function(e){return e.name===i});if(h){var b=C(h.type),w=Q(h.type);return U({},t,w?((f={})[i]=Array.isArray(r.filter[i])?r.filter[i].map(function(e){return D(b,e)}):D(b,[r.filter[i]]),f):((l={})[i]=D(b,r.filter[i]),l))}return U({},t,((s={})[i]=r.filter[i],s))},{});return{page:parseInt(r.pagination.page,10)-1,perPage:parseInt(r.pagination.perPage,10),sortField:r.sort.field,sortOrder:r.sort.order,filter:i}}}(e)(n,t,r,i);case y.e:return{filter:{ids:r.ids}};case y.f:return{filter:(a={},a[r.target.split(".")[0]]={id:r.id},a)};case y.g:return{id:r.id};case y.h:case y.a:return J()(n,t,r,i);case y.b:return{id:r.id}}}},o=function(e){return function(n,t,r,i){i.sortField,i.sortOrder;var a=G(i,["sortField","sortOrder"]),o=H(r,i),u=W(r,i),c=W(r,a),f=function e(n){return function(t){return t.reduce(function(t,r){var i=C(r.type);if(i.name.startsWith("_"))return t;if(i.kind!==j.a.OBJECT)return t.concat([M.field(M.name(r.name))]);if(n.resources.find(function(e){return e.type.name===i.name}))return t.concat([M.field(M.name(r.name),null,null,null,M.selectionSet([M.field(M.name("id"))]))]);var a=n.types.find(function(e){return e.name===i.name});return a?t.concat([M.field(M.name(r.name),null,null,null,M.selectionSet(e(n)(a.fields)))]):t},[])}}(e)(n.type.fields);return t===y.d||t===y.e||t===y.f?M.document([M.operationDefinition("query",M.selectionSet([M.field(M.name(r.name),M.name("items"),u,null,M.selectionSet(f)),M.field(M.name("_"+r.name+"Meta"),M.name("total"),c,null,M.selectionSet([M.field(M.name("count"))]))]),M.name(r.name),o)]):t===y.b?M.document([M.operationDefinition("mutation",M.selectionSet([M.field(M.name(r.name),M.name("data"),u,null,M.selectionSet([M.field(M.name("id"))]))]),M.name(r.name),o)]):M.document([M.operationDefinition(L.includes(t)?"query":"mutation",M.selectionSet([M.field(M.name(r.name),M.name("data"),u,null,M.selectionSet(f))]),M.name(r.name),o)])}},u=function(e){return function(n,t){return function(r){var i=function e(n,t){return function(r){return Object.keys(r).reduce(function(i,a){var o,u,c,f;if(a.startsWith("_"))return i;var l=t.type.fields.find(function(e){return e.name===a}),s=C(l.type);if(s.kind!==j.a.OBJECT)return K({},i,((o={})[l.name]=r[l.name],o));var d=n.resources.find(function(e){return e.type.name===s.name});if(d){var p=r[l.name];return Array.isArray(p)?K({},i,((u={})[l.name]=r[l.name].map(e(n,d)),u[l.name+"Ids"]=r[l.name].map(function(e){return e.id}),u)):K({},i,((c={})[l.name+".id"]=p?r[l.name].id:void 0,c[l.name]=p?e(n,d)(r[l.name]):void 0,c))}return K({},i,((f={})[l.name]=r[l.name],f))},{})}}(e,t),a=r.data;return n===y.d||n===y.e||n===y.f?{data:r.data.items.map(i),total:r.data.total.count}:{data:i(a.data)}}}},function(e){var n=e.resources.map(function(e){return e.type.name});return function(t,r,i){var c=e.resources.find(function(e){return e.type.name===r});if(!c)throw new Error("Unknown resource "+r+". Make sure it has been declared on your server side schema. Known resources are "+n.join(", "));var f=c[t];if(!f)throw new Error("No query or mutation matching aor fetch type "+t+" could be found for resource "+c.type.name);var l=a(e)(c,t,i,f);return{query:o(e)(c,t,f,l),variables:l,parseResponse:u(e)(t,c,f)}}}),z=function(){return(z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},V=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t},X={buildQuery:Y};n.default=function(){var e;return(e={clientOptions:{uri:"http://localhost:4000/graphql"}},R(f()({},X,e)).then(function(e){return function(n,t,r){if(n===y.c){r.ids;var i=V(r,["ids"]);return Promise.all(r.ids.map(function(n){return e(y.b,t,z({id:n},i))})).then(function(e){return{data:e.reduce(function(e,n){var t=n.data;return e.concat([t.id])},[])}})}if(n===y.i){r.ids;var a=V(r,["ids"]);return Promise.all(r.ids.map(function(n){return e(y.h,t,z({id:n},a))})).then(function(e){return{data:e.reduce(function(e,n){var t=n.data;return e.concat([t.id])},[])}})}return e(n,t,r)}})).then(function(e){return function(n,t,r){return e(n,function(e){switch(e){case"customers":return"Customer";case"categories":return"Category";case"commands":return"Command";case"products":return"Product";case"reviews":return"Review";default:throw new Error("Unknown resource ".concat(e))}}(t),r)}})}}}]);
//# sourceMappingURL=4.29cd152a.chunk.js.map